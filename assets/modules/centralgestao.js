function pageCentralGestao(){const e=getDB();onlySafra(e.fazendas);let t=onlySafra(e.talhoes);fazendaAtual&&(t=t.filter(e=>e.fazendaId===fazendaAtual));const o=onlySafra(e.estoque||[]),a=onlySafra(e.dieselEstoque||[]),i=(onlySafra(e.aplicacoes||[]),onlySafra(e.combustivel||[]),onlySafra(e.colheitas||[])),n=e.parametros||{precoSoja:120,produtividadeMinSoja:65,produtividadeMaxSoja:75,precoMilho:60,produtividadeMinMilho:100,produtividadeMaxMilho:130,precoAlgodao:150,produtividadeMinAlgodao:250,produtividadeMaxAlgodao:300,pesoPadraoSaca:60},r=o.filter(e=>Number(e.qtd||0)<0),d=a.filter(e=>Number(e.litros||0)<0),s=calcCustosPorTalhao(e),l=new Map;i.forEach(e=>{l.set(e.talhaoId,e)});const c=t.map(e=>{const t=Number(e.areaHa||0),o=s.find(t=>t.talhaoId===e.id)?.custoTotal||0;let a=0,i=0,r=0,d=0;const c=e.cultura?.toLowerCase()||"";"soja"===c?(i=n.produtividadeMinSoja,r=n.produtividadeMaxSoja,d=n.precoSoja):"milho"===c?(i=n.produtividadeMinMilho,r=n.produtividadeMaxMilho,d=n.precoMilho):"algodao"===c&&(i=n.produtividadeMinAlgodao,r=n.produtividadeMaxAlgodao,d=n.precoAlgodao),i&&r&&d&&(a=t*((i+r)/2)*d);const p=l.get(e.id);let g=0,u=0;return p&&("kg"===p.unidade?(u=p.producaoTotal,g=p.producaoTotal/(n.pesoPadraoSaca||60)*d):g=p.producaoTotal*d),{...e,custo:o,receitaEstimada:a,receitaReal:g,lucroEstimado:a-o,lucroReal:g-o,producaoRealKg:u,colheitaRegistrada:!!p}}),p=c.reduce((e,t)=>e+t.receitaEstimada,0),g=c.reduce((e,t)=>e+t.receitaReal,0),u=c.reduce((e,t)=>e+t.custo,0),f=p-u,x=g-u;document.getElementById("content").innerHTML=`\n    <style>\n      .ops-kpi-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin-bottom: 20px;\n      }\n      .ops-kpi-card {\n        background: #ffffff;\n        border-radius: 12px;\n        padding: 20px;\n        border-left: 4px solid #3b82f6;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n      }\n      .ops-kpi-card h3 {\n        margin: 0 0 10px 0;\n        color: #3b82f6;\n        font-size: 16px;\n      }\n      .ops-kpi-valor {\n        font-size: 32px;\n        font-weight: 700;\n        color: #0f172a;\n      }\n      .ops-kpi-label {\n        color: #475569;\n        font-size: 12px;\n        margin-top: 5px;\n      }\n      .dual-table {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin-top: 20px;\n      }\n      .destaque-positivo { color: #059669; }\n      .destaque-negativo { color: #b91c1c; }\n    </style>\n\n    <div class="ops-kpi-grid">\n      <div class="ops-kpi-card">\n        <h3>üì¶ Alertas Estoque</h3>\n        <div class="ops-kpi-valor">${r.length}</div>\n        <div class="ops-kpi-label">itens com saldo negativo</div>\n      </div>\n      <div class="ops-kpi-card">\n        <h3>‚õΩ Alertas Diesel</h3>\n        <div class="ops-kpi-valor">${d.length}</div>\n        <div class="ops-kpi-label">tanques negativos</div>\n      </div>\n      ${canSeeFinanceiro()?`\n      <div class="ops-kpi-card">\n        <h3>üí∞ Receita Total</h3>\n        <div class="ops-kpi-valor ${g>=0?"destaque-positivo":"destaque-negativo"}">${kbrl(g)}</div>\n        <div class="ops-kpi-label">vs. estimada ${kbrl(p)}</div>\n      </div>\n      <div class="ops-kpi-card">\n        <h3>üìä Margem Real</h3>\n        <div class="ops-kpi-valor">${u?(x/u*100).toFixed(1):0}%</div>\n        <div class="ops-kpi-label">sobre o custo</div>\n      </div>\n      `:""}\n    </div>\n\n    ${canSeeFinanceiro()?`\n    <div class="card" style="margin-bottom:20px;">\n      <h3>üìà Resumo Financeiro</h3>\n      <table style="width:100%;">\n        <tr>\n          <td><b>Custo total:</b></td>\n          <td style="text-align:right">${kbrl(u)}</td>\n        </tr>\n        <tr>\n          <td><b>Receita estimada:</b></td>\n          <td style="text-align:right">${kbrl(p)}</td>\n        </tr>\n        <tr>\n          <td><b>Lucro estimado:</b></td>\n          <td style="text-align:right"><span class="${f>=0?"destaque-positivo":"destaque-negativo"}">${kbrl(f)}</span></td>\n        </tr>\n        <tr style="border-top:2px solid #e2e8f0;">\n          <td><b>Receita real:</b></td>\n          <td style="text-align:right">${kbrl(g)}</td>\n        </tr>\n        <tr>\n          <td><b>Lucro real:</b></td>\n          <td style="text-align:right"><b class="${x>=0?"destaque-positivo":"destaque-negativo"}">${kbrl(x)}</b></td>\n        </tr>\n        <tr>\n          <td><b>Diferen√ßa:</b></td>\n          <td style="text-align:right">\n            <span class="${x-f>=0?"destaque-positivo":"destaque-negativo"}">\n              ${kbrl(x-f)}\n            </span>\n          </td>\n        </tr>\n      </table>\n    </div>\n    `:'<div class="card" style="background:#f8fafc; border: 1px dashed #cbd5e1; text-align:center; padding:15px;"><p style="color:#64748b; margin:0;">üîí Resumo financeiro oculto para seu perfil.</p></div>'}\n\n    <div class="tableWrap">\n      <h3>üìã Custos e Rentabilidade por Talh√£o</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Talh√£o</th>\n            <th>Cultura</th>\n            <th>√Årea (ha)</th>\n            ${canSeeFinanceiro()?"<th>Custo</th>":""}\n            <th>Produ√ß√£o (kg)</th>\n            ${canSeeFinanceiro()?"<th>Receita Estimada</th>":""}\n            ${canSeeFinanceiro()?"<th>Receita Real</th>":""}\n            ${canSeeFinanceiro()?"<th>Receita L√≠quida</th>":""}\n\n          </tr>\n        </thead>\n        <tbody>\n          ${c.map(e=>{const t=e.lucroReal>=0?"destaque-positivo":"destaque-negativo";return`<tr>\n              <td><b>${escapeHtml(e.nome)}</b></td>\n              <td>${escapeHtml(e.cultura||"-")}</td>\n              <td>${num(e.areaHa,1)}</td>\n              ${canSeeFinanceiro()?`<td>${kbrl(e.custo)}</td>`:""}\n              <td>${e.colheitaRegistrada?num(e.producaoRealKg,0):"-"}</td>\n              ${canSeeFinanceiro()?`<td>${kbrl(e.receitaEstimada)}</td>`:""}\n              ${canSeeFinanceiro()?`<td>${e.colheitaRegistrada?kbrl(e.receitaReal):"-"}</td>`:""}\n              ${canSeeFinanceiro()?`<td class="${t}">${e.colheitaRegistrada?kbrl(e.lucroReal):"-"}</td>`:""}\n\n            </tr>`}).join("")}\n        </tbody>\n      </table>\n    </div>\n\n    <div class="card" style="margin-top:20px; background:linear-gradient(135deg,#0f172a 0%,#172554 50%,#1e3a5f 100%); border:none; border-radius:16px; padding:0; overflow:hidden; box-shadow:0 4px 24px rgba(0,0,0,0.3);">\n      <div style="padding:24px 24px 16px;">\n        <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;">\n          <div>\n            <div style="display:flex; align-items:center; gap:10px;">\n              <div style="width:40px; height:40px; background:linear-gradient(135deg,#f59e0b,#d97706); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:20px;">üìà</div>\n              <div>\n                <h3 style="margin:0; color:#f8fafc; font-size:17px; font-weight:700;">Painel de Commodities</h3>\n                <p style="margin:2px 0 0; color:#64748b; font-size:11px;">Indicadores CEPEA/Esalq &bull; Atualizado regionalmente</p>\n              </div>\n            </div>\n          </div>\n          <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">\n            <select id="selectCulturaPreco" style="background:#1e293b; color:#e2e8f0; border:1px solid #334155; border-radius:10px; padding:9px 14px; font-size:12px; font-weight:500; cursor:pointer; outline:none; min-width:140px; -webkit-appearance:none; appearance:none; background-image:url('data:image/svg+xml;charset=UTF-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%2394a3b8%22 stroke-width=%222%22%3E%3Cpath d=%22M6 9l6 6 6-6%22/%3E%3C/svg%3E'); background-repeat:no-repeat; background-position:right 10px center;">\n              <option value="todas">Todas as Culturas</option>\n              <option value="Soja">üå± Soja</option>\n              <option value="Milho">üåΩ Milho</option>\n              <option value="Algodao">üß∂ Algod√£o</option>\n              <option value="Trigo">üåæ Trigo</option>\n              <option value="Cafe">‚òï Caf√©</option>\n              <option value="Arroz">üçö Arroz</option>\n              <option value="Feijao">ü´ò Feij√£o</option>\n              <option value="Sorgo">üåø Sorgo</option>\n            </select>\n            <button id="btnBuscarPreco" style="background:linear-gradient(135deg,#f59e0b,#d97706); color:#fff; border:none; border-radius:10px; padding:9px 20px; font-size:12px; font-weight:600; cursor:pointer; white-space:nowrap; display:flex; align-items:center; gap:6px; transition:all .2s; box-shadow:0 2px 8px rgba(245,158,11,0.3);" onmouseover="this.style.transform='translateY(-1px)';this.style.boxShadow='0 4px 12px rgba(245,158,11,0.4)'" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(245,158,11,0.3)'">\n              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>\n              Atualizar Pre√ßos\n            </button>\n          </div>\n        </div>\n      </div>\n      <div id="precoResultado" style="padding:0 24px 24px;">\n        <div id="cotacaoCards" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:12px;"></div>\n        <div id="cotacaoDetalhe" style="margin-top:14px; display:none;"></div>\n        <div id="cotacaoFooter" style="margin-top:12px; padding:10px 16px; background:rgba(30,41,59,0.6); border-radius:10px; border:1px solid #1e293b; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:8px;">\n          <span style="font-size:11px; color:#475569;">Fonte: CEPEA/Esalq &bull; Pre√ßos de refer√™ncia por regi√£o</span>\n          <span id="cotacaoTimestamp" style="font-size:10px; color:#334155;"></span>\n        </div>\n      </div>\n    </div>\n\n  `,_initCommodityDashboard(),document.getElementById("btnBuscarPreco").addEventListener("click",async()=>{const e=document.getElementById("selectCulturaPreco").value,t=getDB(),o=onlySafra(t.fazendas);if(!o.length)return void toast("Aten√ß√£o","Cadastre uma fazenda com coordenadas para buscar pre√ßos regionais.");const a=fazendaAtual?o.find(e=>e.id===fazendaAtual):o[0];if(!a||!a.latitude||!a.longitude)return void toast("Aten√ß√£o","A fazenda precisa ter latitude e longitude cadastradas.");const i=document.getElementById("btnBuscarPreco");i.disabled=!0,i.innerHTML='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="animation:spin 1s linear infinite"><circle cx="12" cy="12" r="10"/><path d="M12 6v6"/></svg> Buscando...';try{if("todas"===e){const e=[];for(const t of["Soja","Milho","Algodao","Trigo","Cafe","Arroz","Feijao","Sorgo"]){const o=await buscarPrecoGraos(t,parseFloat(a.latitude),parseFloat(a.longitude));o.ok&&e.push(o)}_renderAllCotacoes(e)}else{const t=await buscarPrecoGraos(e,parseFloat(a.latitude),parseFloat(a.longitude));t.ok?_renderCotacaoDetalhe(t):toast("Aviso","N√£o foi poss√≠vel obter cota√ß√£o para esta cultura.")}}catch(e){toast("Erro","Falha ao consultar pre√ßos. Tente novamente.")}finally{i.disabled=!1,i.innerHTML='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg> Atualizar Pre√ßos'}})}function _initCommodityDashboard(){const e=[{key:"Soja",icon:"üå±",cor:"#22c55e",corBg:"rgba(34,197,94,0.08)",unit:"sc 60kg"},{key:"Milho",icon:"üåΩ",cor:"#eab308",corBg:"rgba(234,179,8,0.08)",unit:"sc 60kg"},{key:"Algod√£o",icon:"üß∂",cor:"#a78bfa",corBg:"rgba(167,139,250,0.08)",unit:"@ 15kg"},{key:"Trigo",icon:"üåæ",cor:"#f97316",corBg:"rgba(249,115,22,0.08)",unit:"sc 60kg"},{key:"Caf√©",icon:"‚òï",cor:"#b45309",corBg:"rgba(180,83,9,0.08)",unit:"sc 60kg"},{key:"Arroz",icon:"üçö",cor:"#6366f1",corBg:"rgba(99,102,241,0.08)",unit:"sc 50kg"},{key:"Feij√£o",icon:"ü´ò",cor:"#ef4444",corBg:"rgba(239,68,68,0.08)",unit:"sc 60kg"},{key:"Sorgo",icon:"üåø",cor:"#14b8a6",corBg:"rgba(20,184,166,0.08)",unit:"sc 60kg"}],t=getDB().parametros||{},o={Soja:{param:"precoSoja",cepea:120.7},Milho:{param:"precoMilho",cepea:69.53},"Algod√£o":{param:"precoAlgodao",cepea:93.47},Trigo:{param:"precoTrigo",cepea:90},"Caf√©":{param:"precoCafe",cepea:1797.61},Arroz:{param:"precoArroz",cepea:55.51},"Feij√£o":{param:"precoFeijao",cepea:290},Sorgo:{param:"precoSorgo",cepea:45}},a=document.getElementById("cotacaoCards");if(!a)return;const i=document.getElementById("selectCulturaPreco").value,n="todas"===i?e:e.filter(e=>e.key===i||e.key.normalize("NFD").replace(/[\u0300-\u036f]/g,"")===i);a.innerHTML=n.map(e=>{const a=o[e.key]||{cepea:0},i=t[a.param]||a.cepea,n=i>=1e3?"R$ "+Number(i).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"R$ "+Number(i).toFixed(2);return`<div class="commodity-card" style="background:#0f172a; border-radius:14px; padding:18px; border:1px solid #1e293b; cursor:pointer; transition:all .25s ease; position:relative; overflow:hidden;" onmouseover="this.style.borderColor='${e.cor}';this.style.transform='translateY(-3px)';this.style.boxShadow='0 8px 24px rgba(0,0,0,0.3)'" onmouseout="this.style.borderColor='#1e293b';this.style.transform='';this.style.boxShadow=''" onclick="_selectCommodity('${e.key}')"><div style="position:absolute; top:0; right:0; width:60px; height:60px; background:${e.corBg}; border-radius:0 0 0 60px; opacity:0.5;"></div><div style="display:flex; align-items:center; gap:10px; margin-bottom:12px;"><div style="width:36px; height:36px; background:${e.corBg}; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:18px; border:1px solid ${e.cor}22;">${e.icon}</div><div><div style="font-size:13px; font-weight:600; color:#e2e8f0;">${escapeHtml(e.key)}</div><div style="font-size:10px; color:#475569; font-weight:400;">${e.unit}</div></div></div><div style="font-size:20px; font-weight:800; color:#f8fafc; letter-spacing:-0.5px;">${n}</div><div style="display:flex; align-items:center; gap:4px; margin-top:6px;"><div style="width:6px; height:6px; border-radius:50%; background:${e.cor};"></div><span style="font-size:10px; color:#64748b;">CEPEA/Esalq</span></div></div>`}).join(""),document.getElementById("cotacaoTimestamp").textContent="Ref. "+(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})}function _selectCommodity(e){const t=document.getElementById("selectCulturaPreco");t&&(t.value=e,document.getElementById("btnBuscarPreco").click())}function _renderAllCotacoes(e){const t=document.getElementById("cotacaoCards"),o=document.getElementById("cotacaoDetalhe");if(!t)return;const a={Soja:{icon:"üå±",cor:"#22c55e",corBg:"rgba(34,197,94,0.1)"},Milho:{icon:"üåΩ",cor:"#eab308",corBg:"rgba(234,179,8,0.1)"},Algodao:{icon:"üß∂",cor:"#a78bfa",corBg:"rgba(167,139,250,0.1)"},Trigo:{icon:"üåæ",cor:"#f97316",corBg:"rgba(249,115,22,0.1)"},Cafe:{icon:"‚òï",cor:"#b45309",corBg:"rgba(180,83,9,0.1)"},Arroz:{icon:"üçö",cor:"#6366f1",corBg:"rgba(99,102,241,0.1)"},Feijao:{icon:"ü´ò",cor:"#ef4444",corBg:"rgba(239,68,68,0.1)"},Sorgo:{icon:"üåø",cor:"#14b8a6",corBg:"rgba(20,184,166,0.1)"}};t.innerHTML=e.map(e=>{const t=a[e.cultura]||{icon:"üåæ",cor:"#94a3b8",corBg:"rgba(148,163,184,0.1)"},o=e.preco>=1e3?"R$ "+Number(e.preco).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"R$ "+Number(e.preco).toFixed(2);return`<div style="background:#0f172a; border-radius:14px; padding:18px; border:1px solid #1e293b; transition:all .25s; cursor:pointer;" onmouseover="this.style.borderColor='${t.cor}';this.style.transform='translateY(-3px)'" onmouseout="this.style.borderColor='#1e293b';this.style.transform=''" onclick="_selectCommodity('${e.cultura}')"><div style="display:flex; align-items:center; gap:8px; margin-bottom:10px;"><span style="font-size:18px;">${t.icon}</span><span style="font-size:13px; font-weight:600; color:#e2e8f0;">${escapeHtml(e.cultura)}</span></div><div style="font-size:20px; font-weight:800; color:#f8fafc;">${o}</div><div style="font-size:10px; color:#64748b; margin-top:6px;">üìç ${escapeHtml(e.regiao)} (~${e.distanciaKm}km)</div></div>`}).join(""),o&&(o.style.display="none"),document.getElementById("cotacaoTimestamp").textContent="Atualizado: "+(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+" ‚Ä¢ "+(new Date).toLocaleDateString("pt-BR");var fs=document.getElementById("cotacaoFonteStatus");if(fs)fs.innerHTML=results.some(function(x){return x.tipoPreco==="tempo_real"})?"<span style=\"color:#22c55e\">‚óè Tempo real</span> ‚Äî Dados CEPEA/Esalq atualizados":"Fonte: CEPEA/Esalq ‚Äî Pre√ßos de refer√™ncia regional"}function _renderCotacaoDetalhe(e){const t=document.getElementById("cotacaoCards"),o=document.getElementById("cotacaoDetalhe");if(!t)return;const a=_getCulturaStyle(e.cultura),i=e.preco>=1e3?"R$ "+Number(e.preco).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"R$ "+Number(e.preco).toFixed(2);t.innerHTML=`<div style="grid-column:1/-1; background:linear-gradient(135deg,${a.bg1},${a.bg2}); border-radius:14px; padding:28px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:20px; position:relative; overflow:hidden;"><div style="position:absolute; top:-20px; right:-20px; width:120px; height:120px; background:rgba(255,255,255,0.05); border-radius:50%;"></div><div style="position:absolute; bottom:-30px; left:-30px; width:80px; height:80px; background:rgba(255,255,255,0.03); border-radius:50%;"></div><div style="position:relative; z-index:1;"><div style="display:flex; align-items:center; gap:10px; margin-bottom:8px;"><span style="font-size:28px;">${a.icon}</span><div><div style="font-size:14px; color:${a.textSub}; font-weight:500;">${escapeHtml(e.cultura)}</div><div style="font-size:10px; color:${a.textSub}; opacity:.6;">${e.moeda||"por saca"}</div></div></div><div style="font-size:38px; font-weight:800; color:${a.textMain}; line-height:1.1; letter-spacing:-1px;">${i}</div></div><div style="position:relative; z-index:1; text-align:right; min-width:180px;"><div style="background:rgba(0,0,0,0.2); border-radius:12px; padding:14px 18px;"><div style="font-size:12px; color:${a.textSub}; font-weight:600; margin-bottom:6px;">üìç Regi√£o de Refer√™ncia</div><div style="font-size:15px; color:${a.textMain}; font-weight:700;">${escapeHtml(e.regiao)}</div><div style="font-size:11px; color:${a.textSub}; opacity:.7; margin-top:4px;">~${e.distanciaKm} km da sua fazenda</div></div><div style="margin-top:8px; font-size:10px; color:${a.textSub}; opacity:.5;">${e.fonte||"CEPEA/Esalq"}</div></div></div>`,o&&(o.style.display="block",o.innerHTML=`<div style="background:#0f172a; border-radius:12px; padding:16px; border:1px solid #1e293b; display:flex; justify-content:center; gap:32px; flex-wrap:wrap;"><div style="text-align:center;"><div style="font-size:10px; color:#64748b; text-transform:uppercase; letter-spacing:1px;">Cultura</div><div style="font-size:14px; color:#e2e8f0; font-weight:600; margin-top:4px;">${a.icon} ${escapeHtml(e.cultura)}</div></div><div style="text-align:center;"><div style="font-size:10px; color:#64748b; text-transform:uppercase; letter-spacing:1px;">Regi√£o</div><div style="font-size:14px; color:#e2e8f0; font-weight:600; margin-top:4px;">${escapeHtml(e.regiao)}</div></div><div style="text-align:center;"><div style="font-size:10px; color:#64748b; text-transform:uppercase; letter-spacing:1px;">Dist√¢ncia</div><div style="font-size:14px; color:#e2e8f0; font-weight:600; margin-top:4px;">${e.distanciaKm} km</div></div><div style="text-align:center;"><div style="font-size:10px; color:#64748b; text-transform:uppercase; letter-spacing:1px;">Fonte</div><div style="font-size:14px; color:#e2e8f0; font-weight:600; margin-top:4px;">${escapeHtml(e.fonte||"CEPEA/Esalq")}</div></div></div>`),document.getElementById("cotacaoTimestamp").textContent="Atualizado: "+(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+" ‚Ä¢ "+(new Date).toLocaleDateString("pt-BR");var fsd=document.getElementById("cotacaoFonteStatus");if(fsd)fsd.innerHTML=r.tipoPreco==="tempo_real"?"<span style=\"color:#22c55e\">‚óè Tempo real</span> ‚Äî "+escapeHtml(r.fonte):"Fonte: CEPEA/Esalq ‚Äî Pre√ßo de refer√™ncia regional"}function _getCulturaStyle(e){const t=e?.toLowerCase()||"";return t.includes("soja")?{icon:"üå±",bg1:"#14532d",bg2:"#166534",textMain:"#f0fdf4",textSub:"#bbf7d0"}:t.includes("milho")?{icon:"üåΩ",bg1:"#713f12",bg2:"#854d0e",textMain:"#fefce8",textSub:"#fef08a"}:t.includes("algod")?{icon:"üß∂",bg1:"#4c1d95",bg2:"#6d28d9",textMain:"#faf5ff",textSub:"#e9d5ff"}:t.includes("trigo")?{icon:"üåæ",bg1:"#7c2d12",bg2:"#9a3412",textMain:"#fff7ed",textSub:"#fed7aa"}:t.includes("caf")?{icon:"‚òï",bg1:"#451a03",bg2:"#78350f",textMain:"#fffbeb",textSub:"#fde68a"}:t.includes("arroz")?{icon:"üçö",bg1:"#312e81",bg2:"#3730a3",textMain:"#eef2ff",textSub:"#c7d2fe"}:t.includes("feij")?{icon:"ü´ò",bg1:"#7f1d1d",bg2:"#991b1b",textMain:"#fef2f2",textSub:"#fecaca"}:t.includes("sorgo")?{icon:"üåø",bg1:"#134e4a",bg2:"#115e59",textMain:"#f0fdfa",textSub:"#99f6e4"}:{icon:"üåæ",bg1:"#1e293b",bg2:"#334155",textMain:"#f8fafc",textSub:"#94a3b8"}}